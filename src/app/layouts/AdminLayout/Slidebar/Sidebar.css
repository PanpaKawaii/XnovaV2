/* Sidebar.tsx -> Sidebar.css (BEM + standard CSS Nesting) */
/* Tailwind default theme used for spacing, colors, radii, shadows, breakpoints. */
.sidebar {
  position: fixed;                 /* fixed */
  top: 0;
  left: 0;
  z-index: 50;                     /* z-50 */
  height: 100vh;                   /* h-screen */
  width: 16rem;                    /* w-64 => 16rem */
  background-color: #ffffff;       /* bg-white */
  border-right: 1px solid #e5e7eb; /* border-r border-gray-200 */
  display: flex;                   /* flex */
  flex-direction: column;          /* flex-col */
  transform: translateX(-100%);    /* -translate-x-full */
  transition: transform 300ms ease-in-out; /* transition-transform duration-300 ease-in-out */

  &--open { transform: translateX(0); }      /* translate-x-0 */
  &--closed { transform: translateX(-100%); }

  /* Header */
  &__header {
    display: flex;                      /* flex */
    align-items: center;                /* items-center */
    justify-content: space-between;     /* justify-between */
    padding: 1rem;                      /* p-4 */
    border-bottom: 1px solid #e5e7eb;   /* border-b border-gray-200 */
  }

  &__brand {
    font-size: 1.25rem;                 /* text-xl */
    line-height: 1.75rem;
    font-weight: 700;                    /* font-bold */
    color: #111827;                     /* text-gray-900 */
  }

  &__close-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;                    /* p-2 */
    border-radius: 0.375rem;            /* rounded-md */
    color: #6b7280;                     /* text-gray-500 */
    transition: background-color 150ms ease; /* transition-colors */
    &:hover { background-color: #f3f4f6; }   /* hover:bg-gray-100 */

    @media (min-width: 1024px) { /* lg:hidden */
      display: none;
    }
  }

  /* Navigation */
  &__nav {
    flex: 1 1 auto;                     /* flex-1 */
    padding: 1rem;                      /* p-4 */
    overflow-y: auto;                   /* overflow-y-auto */

    /* space-y-2 */
    & > * + * { margin-top: 0.5rem; }   /* 0.5rem = 8px */
  }

  &__item {
    width: 100%;                        /* w-full */
    display: flex;                      /* flex */
    align-items: center;                /* items-center */
    padding: 0.5rem 0.75rem;            /* py-2 px-3 */
    border-radius: 0.5rem;              /* rounded-lg */
    text-align: left;                   /* text-left */
    color: #374151;                     /* text-gray-700 */
    transition: background-color 200ms ease, color 200ms ease; /* transition-colors duration-200 */

    &:hover { background-color: #f3f4f6; } /* hover:bg-gray-100 */

    &--active {
      background-color: #eff6ff;        /* bg-blue-50 */
      color: #2563eb;                   /* text-blue-600 */
    }
  }

  &__icon {
    flex: 0 0 auto;
    color: inherit;                      /* icons follow text color */
    &--left { margin-right: 0.75rem; }   /* mr-3 */
    &--sm { width: 1rem; height: 1rem; } /* w-4 h-4 */
    &--md { width: 1.25rem; height: 1.25rem; } /* w-5 h-5 */
  }

  &__label {
    font-weight: 500;                    /* font-medium */
  }

  /* Right side badge cluster */
  &__badge-wrap {
    margin-left: auto;                   /* ml-auto */
    display: inline-flex;
    align-items: center;
  }

  &__badge-icon {
    margin-right: 0.25rem;               /* mr-1 */
  }

  &__notif {
    background-color: #ef4444;           /* bg-red-500 */
    color: #ffffff;                       /* text-white */
    font-size: 0.75rem;                   /* text-xs */
    line-height: 1rem;
    border-radius: 9999px;                /* rounded-full */
    padding: 0.25rem 0.5rem;              /* py-1 px-2 */
    min-width: 20px;                      /* min-w-[20px] */
    text-align: center;
  }

  /* Overlay (mobile only) */
  &__overlay {
    position: fixed;
    inset: 0;                             /* inset-0 */
    background-color: rgba(0, 0, 0, 0.5); /* bg-black/50 */
    z-index: 40;                          /* z-40 */

    @media (min-width: 1024px) {          /* lg:hidden */
      display: none;
    }
  }

  /* Mobile menu button */
  &__mobile-trigger {
    position: fixed;
    top: 1rem;                             /* top-4 */
    left: 1rem;                            /* left-4 */
    z-index: 30;                           /* z-30 */
    padding: 0.5rem;                       /* p-2 */
    border-radius: 0.375rem;               /* rounded-md */
    background-color: #ffffff;             /* bg-white */
    border: 1px solid #e5e7eb;             /* border border-gray-200 */
    color: #6b7280;                        /* text-gray-500 */
    transition: background-color 150ms ease; /* transition-colors */
    &:hover { background-color: #f3f4f6; }   /* hover:bg-gray-100 */

    @media (min-width: 1024px) {           /* lg:hidden */
      display: none;
    }
  }

  /* Desktop overrides */
  @media (min-width: 1024px) {             /* lg */
    position: relative;                     /* lg:relative */
    z-index: auto;                          /* lg:z-auto */
    transform: translateX(0);               /* lg:translate-x-0 */
  }

  /* Dark mode */
  :where(.dark) & {
    background-color: #111827;              /* dark:bg-gray-900 */
    border-right-color: #374151;            /* dark:border-gray-700 */

    .sidebar__brand { color: #ffffff; }     /* dark:text-white */

    .sidebar__close-btn {
      color: #d1d5db;                       /* dark:text-gray-300 */
      &:hover { background-color: #1f2937; }/* dark:hover:bg-gray-800 */
    }

    .sidebar__item {
      color: #d1d5db;                       /* dark:text-gray-300 */
      &:hover { background-color: #1f2937; }/* dark:hover:bg-gray-800 */
      &--active {
        background-color: rgba(30, 58, 138, 0.5); /* bg-blue-900/50 */
        color: #60a5fa;                    /* text-blue-400 */
      }
    }

    .sidebar__mobile-trigger {
      background-color: #111827;            /* dark:bg-gray-900 */
      border-color: #374151;                 /* dark:border-gray-700 */
      &:hover { background-color: #1f2937; } /* dark:hover:bg-gray-800 */
    }
  }
}
